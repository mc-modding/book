description: Все, что связано с процессом сборки мода в конечный .jar файл: описание процесса, сама сборка, полезные настройки.

# Сборка мода

Когда работа над модом закончена, необходимо собрать его в готовый конечный .jar файл.

## Процесс сборки

За сборку исходников мода отвечает задача(Task) `build` из одноименной группы. После завершения работы таска в рабочей папке
появится директория `build`, в которой будет много разных папок. Нужна нам только одна: `libs`.

В ней находятся два .jar файла. Файл без слова `sources` и является готовым и собранным модом. Однако, вас может удивить
название этого файла. С настройками Forge по умолчанию он будет называться как-то так: `modid-1.0.jar`.

Дело в том, что название этого файла определяется в файле `build.gradle`, а конкретно, вот этими двумя строчками ближе к началу
файла:

```gradle
version = "1.0"
archivesBaseName = "modid"
```

Соответственно файл будет называться modid-1.0.jar.

### Авто-подстановка в mcmod.info

Получается, при выпуске мода нам нужно следить, чтобы и в mcmod.info и в build.gradle была правильная информация. Это не
очень удобно, ведь нам нужно делать одно и тоже (менять версию мода) в двух разных местах.

К счастью, именно такие задачи и решают автоматические сборщики, коим и является Gradle. Мы можем настроить автоматическую
подстановку версии мода и версии Minecraft в файл mcmod.info.

Внутри build.gradle, прокрутим немного ниже и найдем следующие строки:

```gradle
// replace stuff in mcmod.info, nothing else
from(sourceSets.main.resources.srcDirs) {
    include 'mcmod.info'

    // replace version and mcversion
    expand 'version':project.version, 'mcversion':project.minecraft.version
}
```

Нас интересует строчка, начинающаяся с `expand...`. Она позволяет использовать в mcmod.info конструкции вида `${version}` и
`${mcversion}`, которые при сборке автоматически заменятся на переменные, определенные в build.gradle:

```json
[{
  "modid": "testmod",
  "name": "Test Mod",
  "description": "Description of Test Mod!",
  "version": "${version}",
  "mcversion": "${mcversion}"
}]
```

Заметьте, что переменные подставятся только при сборке через задачу(Task) `build`. При обычном запуске Minecraft внутри среды
разработки замены не будет и вы будете видеть прямо текст `${version}`.

## Установка мода на Minecraft

Ранее мы уже устанавливали Forge на Minecraft.

Теперь надо перейти в папку, где установлен Minecraft. Чаще всего Minecraft располагается по пути: `C:\Users\*Пользователь*\AppData\Roaming\.minecraft`, где
*Пользователь* — имя пользователя данного компьютера.

Внутри Minecraft директории есть папка `mods`. В нее и нужно закинуть .jar файл мода.